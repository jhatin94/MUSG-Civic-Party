var Main=function(){function k(a){return"interactive"===document.readyState||"complete"===document.readyState?a():void document.addEventListener("DOMContentLoaded",a,!1)}function l(a){q(),r(function(){switch(a){case Main.pageHashes.home:document.title=Main.pageTitles.home,HomePagePresenter.renderPage();break;case Main.pageHashes.info:document.title=Main.pageTitles.info,PartyInfoPresenter.renderPage();break;case Main.pageHashes.platform:document.title=Main.pageTitles.platform,PartyPlatformPresenter.renderPage();break;case Main.pageHashes.quiz:document.title=Main.pageTitles.quiz,AlignmentQuizPresenter.renderPage()}})}function m(a){var b=document.getElementById(a);b.classList.contains("hide")&&b.classList.remove("hide"),b.classList.contains("show")||b.classList.add("show")}function n(a){var b=a;b&&(b.classList.contains("show")&&b.classList.remove("show"),b.classList.contains("hide")||b.classList.add("hide"))}function o(a,b){a.addEventListener("click",b)}function p(a){window.location.hash!=a&&(window.location.hash=a)}function q(){var a=0,b=h.length;for(a;a<b;a++){var c=document.getElementById(h[a]);Main.hidePage(c)}}function r(a){w()?a():(j=window.screen.width>654,s(function(){w()&&a()}),t(function(){w()&&a()}),u(function(){w()&&a()}),v(function(){w()&&a()}))}function s(a){var b=document.getElementById(Main.pageContainers.homePageContainer);if(b){var c=b.innerHTML;if(i=(new Date).getFullYear(),c=c.replace("{currentYear}",i),b.innerHTML=c,j){var e=new Image;e.src="Content/capitol.jpg",e.onload=function(){b.style.background="url("+e.src+") no-repeat center center fixed",b.style.backgroundSize="cover",d=!0,a()}}else b.classList.add("altBackground"),d=!0,a()}}function t(a){var b=document.getElementById(Main.pageContainers.partyInfoContainer);if(b){var c=b.innerHTML;c=c.replace("{currentYear}",i),b.innerHTML=c,e=!0,a()}}function u(a){var b=document.getElementById(Main.pageContainers.partyPlatformContainer);if(b){var c=b.innerHTML;if(c=c.replace("{currentYear}",i),b.innerHTML=c,j){var d=new Image;d.src="Content/capitalRear.jpg",d.onload=function(){b.style.background="url("+d.src+") no-repeat center center fixed",b.style.backgroundSize="cover",f=!0,a()}}else b.classList.add("altBackground"),f=!0,a()}}function v(a){var b=document.getElementById(Main.pageContainers.alignmentQuizContainer);if(b){var c=b.innerHTML;c=c.replace("{currentYear}",i),b.innerHTML=c,g=!0,a()}}function w(){return d&&e&&f&&g}var i,a={home:"#home",info:"#info",platform:"#platform",quiz:"#quiz"},b={homePageContainer:"homePageContainer",partyInfoContainer:"partyInfoContainer",partyPlatformContainer:"partyPlatformContainer",alignmentQuizContainer:"alignmentQuizContainer"},c={home:"Model Civic Party",info:"About the Party",platform:"Party Platform",quiz:"Alignment Quiz"},d=!1,e=!1,f=!1,g=!1,h=["homePageContainer","partyInfoContainer","partyPlatformContainer","alignmentQuizContainer"],j=!0;return{DOMReady:k,pageHashes:a,pageContainers:b,pageTitles:c,showPage:m,hidePage:n,changeHash:p,addClickEventToElement:o,renderPage:l}}(),initialHash="#home",previousURL=null;window.location.hash=initialHash,window.onload=Main.DOMReady(function(){Main.renderPage(window.location.hash)}),window.onhashchange=function(a){previousURL=a.oldURL,Main.renderPage(window.location.hash)};var PartyInfoPresenter=function(){function a(){Main.addClickEventToElement(document.getElementById("homeOptI"),function(){Main.changeHash(Main.pageHashes.home)}),Main.addClickEventToElement(document.getElementById("platformOptI"),function(){Main.changeHash(Main.pageHashes.platform)}),Main.addClickEventToElement(document.getElementById("quizOptI"),function(){Main.changeHash(Main.pageHashes.quiz)}),Main.showPage(Main.pageContainers.partyInfoContainer)}return{renderPage:a}}(),PartyPlatformPresenter=function(){function b(){Main.addClickEventToElement(document.getElementById("homeOptP"),function(){Main.changeHash(Main.pageHashes.home)}),Main.addClickEventToElement(document.getElementById("infoOptP"),function(){Main.changeHash(Main.pageHashes.info)}),Main.addClickEventToElement(document.getElementById("quizOptP"),function(){Main.changeHash(Main.pageHashes.quiz)}),Main.addClickEventToElement(document.getElementById("econ"),function(){c(a.economy)}),Main.addClickEventToElement(document.getElementById("immigration"),function(){c(a.immigration)}),Main.addClickEventToElement(document.getElementById("domSoc"),function(){c(a.domestic)}),Main.addClickEventToElement(document.getElementById("foreignPol"),function(){c(a.foreign)}),Main.showPage(Main.pageContainers.partyPlatformContainer)}function c(a){var b=document.getElementById("sectionDisplay"),c=document.getElementById(a);b&&c&&(b.innerHTML=c.innerHTML)}var a={economy:"econText",immigration:"immigrationText",domestic:"domSocText",foreign:"foreignPolText"};return{renderPage:b}}(),AlignmentQuizPresenter=function(){function j(){Main.addClickEventToElement(document.getElementById("homeOptQ"),function(){Main.changeHash(Main.pageHashes.home)}),Main.addClickEventToElement(document.getElementById("infoOptQ"),function(){Main.changeHash(Main.pageHashes.info)}),Main.addClickEventToElement(document.getElementById("platformOptQ"),function(){Main.changeHash(Main.pageHashes.platform)}),Main.addClickEventToElement(document.getElementById("submitBtn"),function(){k()?l():n(!0)}),Main.showPage(Main.pageContainers.alignmentQuizContainer)}function k(){o();var h=0,j=a.length;for(h;h<j;h++){var k=!1,l=document.getElementsByName(a[h]),m=0,n=l?l.length:0;for(m;m<n;m++){var p=l[m];if(p.checked){var q=p.className;switch(q){case i.econ:b++,e+=parseInt(p.value);break;case i.dom:c++,f+=parseInt(p.value);break;case i.fp:d++,g+=parseInt(p.value)}k=!0;break}}if(!k)return!1}return!0}function l(){n(!1),e=parseFloat((e/b).toFixed(2)),f=parseFloat((f/c).toFixed(2)),g=parseFloat((g/d).toFixed(2)),h=parseFloat(((e+f+g)/3).toFixed(2)),m()}function m(){var a=document.getElementById("esc"),b=document.getElementById("dsc"),c=document.getElementById("fsc"),d=document.getElementById("tsc");if(a&&b&&c&&d){a.innerHTML=e+"%",b.innerHTML=f+"%",c.innerHTML=g+"%",d.innerHTML=h+"%";var i=document.getElementById("quizResult");if(i&&i.classList.contains("hide")&&i.classList.remove("hide"),h>69){var j=document.getElementById("joinPartyLinkRec");j&&j.classList.contains("hide")&&j.classList.remove("hide")}}}function n(a){var b=document.getElementById("notFinishedWarning");b&&a&&b.classList.contains("hide")?b.classList.remove("hide"):!b||a||b.classList.contains("hide")||b.classList.add("hide")}function o(){b=0,c=0,d=0,e=0,f=0,g=0}var a=["q1","q2","q3","q4","q5","q6","q7","q8","q9","q10","q11","q12","q13","q14","q15","q16","q17","q18","q19","q20","q21"],b=0,c=0,d=0,e=0,f=0,g=0,h=0,i={econ:"econ",dom:"domestic",fp:"fp"};return{renderPage:j}}(),HomePagePresenter=function(){function a(){Main.addClickEventToElement(document.getElementById("infoSquare"),function(){Main.changeHash(Main.pageHashes.info)}),Main.addClickEventToElement(document.getElementById("platSquare"),function(){Main.changeHash(Main.pageHashes.platform)}),Main.addClickEventToElement(document.getElementById("quizSquare"),function(){Main.changeHash(Main.pageHashes.quiz)}),Main.showPage(Main.pageContainers.homePageContainer)}return{renderPage:a}}();